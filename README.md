# Healthkit Diabetes

Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ –¥–∏–∞–±–µ—Ç–µ –∏–∑ Apple Health.

–ü–∞—Ä—Å–∏—Ç XML-—ç–∫—Å–ø–æ—Ä—Ç ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≥–ª—é–∫–æ–∑—É/–∏–Ω—Å—É–ª–∏–Ω/—É–≥–ª–µ–≤–æ–¥—ã ‚Üí —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç—á–µ—Ç-–≥—Ä–∞—Ñ–∏–∫ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

**–°—Ç–µ–∫:** Python 3.10+ ¬∑ Streamlit ¬∑ Plotly ¬∑ pandas

![Screenshot](assets/screenshot.png)

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì¶ –ü–∞—Ä—Å–∏–Ω–≥ Apple Health export (`Record` –≤ XML) –ø–æ—Ç–æ–∫–æ–≤–æ —á–µ—Ä–µ–∑ `iterparse`
- ü©∏ –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
  - **–ì–ª—é–∫–æ–∑–∞** ‚Äî `HKQuantityTypeIdentifierBloodGlucose`
  - **–£–≥–ª–µ–≤–æ–¥—ã** ‚Äî `HKQuantityTypeIdentifierDietaryCarbohydrates`
  - **–ò–Ω—Å—É–ª–∏–Ω** ‚Äî `HKQuantityTypeIdentifierInsulinDelivery`
    - –∞–≤—Ç–æ-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ **–ë–∞–∑–∞–ª/–ë–æ–ª—é—Å** –ø–æ `HKInsulinDeliveryReason`
- üìÖ –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ + –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã: **3 –¥–Ω—è / 1 –Ω–µ–¥–µ–ª—è / 2 –Ω–µ–¥–µ–ª–∏ / 1 –º–µ—Å—è—Ü / 2 –º–µ—Å—è—Ü–∞**
- üìä –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (Plotly):
  - –≥–ª—é–∫–æ–∑–∞ ‚Äî —Å–≥–ª–∞–∂–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º: **—Å–∏–Ω—è—è** (–≤ —Ü–µ–ª–µ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ) / **–∫—Ä–∞—Å–Ω–∞—è** (–≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞) + –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Ü–µ–ª–µ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  - –∏–Ω—Å—É–ª–∏–Ω ‚Äî —Å—Ç–æ–ª–±–∏–∫–∏ (–±–æ–ª—é—Å/–±–∞–∑–∞–ª) —Å –ø–æ–¥–ø–∏—Å—å—é –∑–Ω–∞—á–µ–Ω–∏–π
  - —É–≥–ª–µ–≤–æ–¥—ã ‚Äî –º–∞—Ä–∫–µ—Ä—ã —Å –ø–æ–¥–ø–∏—Å—å—é "<N> –≥"
  - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –¥–Ω–µ–π: —á–µ—Ä–µ–¥—É—é—â–∏–π—Å—è —Ñ–æ–Ω + –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏
  - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∫–∏ –Ω–∞ –æ—Å–∏ –≤—Ä–µ–º–µ–Ω–∏: 2 —á / 6 —á / 12 —á / 24 —á / 7 –¥–Ω–µ–π ‚Äî –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- üñºÔ∏è –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞ –≤ PNG (–∫–Ω–æ–ø–∫–∞ –≤ Plotly toolbar)

---

## –î–∞–Ω–Ω—ã–µ Apple Health

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç —Ñ–∞–π–ª `export.xml` **–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**.

> Apple —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ ZIP-–∞—Ä—Ö–∏–≤, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –ª–µ–∂–∏—Ç `apple_health_export/export.xml`.
> –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π –µ–≥–æ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.

---

## –ó–∞–ø—É—Å–∫ ‚Äî —á–µ—Ä–µ–∑ Makefile

Makefile –∑–∞—Ç–æ—á–µ–Ω –ø–æ–¥ Windows: venv —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ `env/`.

```bash
make install
make run
```

–ü–æ—Å–ª–µ `make run` –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:8501`.

–û—á–∏—Å—Ç–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
make clean
```

> **–ù—É–∂–µ–Ω `make`?** Windows: Git Bash / MSYS2 / WSL / Chocolatey / Scoop ‚Äî –ª—é–±–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–æ–π–¥—ë—Ç.

---

## –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è `export.xml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—å –µ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

## License

MIT ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).
